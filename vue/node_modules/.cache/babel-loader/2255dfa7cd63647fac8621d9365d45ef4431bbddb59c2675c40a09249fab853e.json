{"ast":null,"code":"import { request } from \"axios\";\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      uName: \"\",\n      tableData: [],\n      total: 0,\n      pageNo: 1,\n      pageSize: 10,\n      dialogFormVisible: false,\n      form: {},\n      collapseBtnClass: \"el-icon-s-operation\",\n      isCollapse: false,\n      sideWidth: 200,\n      logoTextShow: true,\n      headerBg: 'headerBg',\n      loading: false\n    };\n  },\n  created() {\n    this.load();\n    this.loadingOrClose();\n  },\n  methods: {\n    collapse() {\n      //点击收缩按钮触发\n      this.isCollapse = !this.isCollapse;\n      if (this.isCollapse) {\n        this.logoTextShow = false;\n      } else {\n        this.logoTextShow = true;\n      }\n    },\n    load() {\n      this.request.get(\"http://localhost:9090/user/page\", {\n        params: {\n          pageNo: this.pageNo,\n          pageSize: this.pageSize,\n          uName: this.uName\n        }\n      }).then(res => {\n        console.log(res);\n        this.tableData = res.Data;\n        this.total = res.Total;\n      });\n    },\n    save() {\n      this.request.post(\"http://localhost:9090/user\", this.form).then(res => {\n        if (res) {\n          this.$message.success(\"保存成功\");\n        } else {\n          this.$message.error(\"保存失败\");\n        }\n      });\n      this.form = [];\n      this.dialogFormVisible = false;\n      this.load();\n    },\n    async loadingOrClose() {\n      this.loading = true;\n      await listUserLink().then();\n      this.loading = false;\n    },\n    handleEdit(row) {\n      this.form = row;\n      this.dialogFormVisible = true;\n    },\n    cancel() {\n      this.form = [];\n      this.dialogFormVisible = false;\n    },\n    handleCurrentChange(pageNo) {\n      console.log(pageNo);\n      this.pageNo = pageNo;\n      this.load();\n    },\n    handleSizeChange(pageSize) {\n      console.log(pageSize);\n      this.pageSize = pageSize;\n      this.load();\n    }\n  }\n};","map":{"version":3,"mappings":"AA+KA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACAC;UACAd;UACAC;UACAJ;QACA;MACA;QACAkB;QACA;QACA;MACA;IACA;IACAC;MACA;QACA;UACA;QACA;UACA;QACA;MACA;MACA;MACA;MACA;IAEA;IACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACAJ;MACA;MACA;IACA;IACAK;MACAL;MACA;MACA;IACA;EACA;AACA","names":["name","data","uName","tableData","total","pageNo","pageSize","dialogFormVisible","form","collapseBtnClass","isCollapse","sideWidth","logoTextShow","headerBg","loading","created","methods","collapse","load","params","console","save","handleEdit","cancel","handleCurrentChange","handleSizeChange"],"sourceRoot":"src/views","sources":["HomeView.vue"],"sourcesContent":["<template>\n  <div>\n    <el-container style=\"height: 100%; border: 1px solid #eee\">\n      <el-aside :width=\"isCollapse?'64px':'200px'\" style=\"background-color: rgb(238, 241, 246); height: 100vh; box-shadow: 2px 0 6px darkslategray\">  <!--阴影效果-->\n        <el-menu :default-openeds=\"['1', '2']\" style=\"min-height: 100%; overflow-x:hidden\"\n                  background-color=\"rgb(48,65,84)\"\n                  text-color=\"#fff\"\n                  active-text-color=\"#ffd04b\"\n                  :collapse=\"isCollapse\">\n          <div style=\"height: 60px; line-height: 60px; text-align: center\">\n            <img src=\"../assets/logo.png\" alt=\"\" style=\"width: 20px;position: relative;top: 5px;margin-right: 10px\">\n              <b style=\"color: aliceblue\" v-show=\"logoTextShow\">后台管理系统</b>\n          </div>\n          <el-submenu index=\"1\">\n            <template slot=\"title\">\n              <i class=\"el-icon-message\"></i>\n              <span slot=\"title\">导航一</span>\n            </template>\n            <el-menu-item-group>\n              <template slot=\"title\">分组一</template>\n              <el-menu-item index=\"1-1\">选项1</el-menu-item>\n              <el-menu-item index=\"1-2\">选项2</el-menu-item>\n            </el-menu-item-group>\n            <el-menu-item-group title=\"分组2\">\n              <el-menu-item index=\"1-3\">选项3</el-menu-item>\n            </el-menu-item-group>\n            <el-submenu index=\"1-4\">\n              <template slot=\"title\">选项4</template>\n              <el-menu-item index=\"1-4-1\">选项4-1</el-menu-item>\n            </el-submenu>\n          </el-submenu>\n          <el-submenu index=\"2\">\n            <template slot=\"title\">\n              <i class=\"el-icon-menu\"></i>\n              <span slot=\"title\">导航二</span>\n            </template>\n            <el-menu-item-group>\n              <template slot=\"title\">分组一</template>\n              <el-menu-item index=\"2-1\">选项1</el-menu-item>\n              <el-menu-item index=\"2-2\">选项2</el-menu-item>\n            </el-menu-item-group>\n            <el-menu-item-group title=\"分组2\">\n              <el-menu-item index=\"2-3\">选项3</el-menu-item>\n            </el-menu-item-group>\n            <el-submenu index=\"2-4\">\n              <template slot=\"title\">选项4</template>\n              <el-menu-item index=\"2-4-1\">选项4-1</el-menu-item>\n            </el-submenu>\n          </el-submenu>\n          <el-submenu index=\"3\">\n            <template slot=\"title\">\n              <i class=\"el-icon-setting\"></i>\n              <span slot=\"title\">导航三</span>\n            </template>\n\n            <el-menu-item-group>\n              <template slot=\"title\">分组一</template>\n              <el-menu-item index=\"3-1\">选项1</el-menu-item>\n              <el-menu-item index=\"3-2\">选项2</el-menu-item>\n            </el-menu-item-group>\n            <el-menu-item-group title=\"分组2\">\n              <el-menu-item index=\"3-3\">选项3</el-menu-item>\n            </el-menu-item-group>\n            <el-submenu index=\"3-4\">\n              <template slot=\"title\">选项4</template>\n              <el-menu-item index=\"3-4-1\">选项4-1</el-menu-item>\n            </el-submenu>\n          </el-submenu>\n        </el-menu>\n      </el-aside>\n\n      <el-container>\n        <el-header style=\"text-align: right; font-size: 12px; border-bottom: 1px solid;line-height: 100px\">\n          <div style=\"font-size: 30px;text-align: left ;height: 60px\" >\n            <span :class=\"collapseBtnClass\" style=\"cursor: pointer ;height: 40px;position: relative;top: -15px\" @click=\"collapse\"></span>\n          </div>\n          <el-dropdown style=\"width: 60px; cursor: pointer;height: 40px;top: -70px;margin-right: 20px\">\n            <span style=\"top: -50px\">王小虎</span><i class=\"el-icon-bottom\" style=\"margin-left: 4px;\"></i>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>个人信息</el-dropdown-item>\n              <el-dropdown-item>退出</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </el-header>\n\n        <el-main>\n\n          <div style=\"padding: 10px 0\">\n            <el-input v-model=\"uName\" style=\"width: 300px\" placeholder=\"请输入名称\" suffix-icon=\"el-icon-search\" clearable></el-input>\n            <el-button style=\"margin-left: 10px\" type=\"primary\" @click=\"load\">search</el-button>\n          </div>\n          <div style=\"padding: 10px 10px\">\n            <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n              <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n              <el-breadcrumb-item>活动管理</el-breadcrumb-item>\n              <el-breadcrumb-item>活动列表</el-breadcrumb-item>\n              <el-breadcrumb-item>活动详情</el-breadcrumb-item>\n            </el-breadcrumb>\n          </div>\n          <div style=\"padding: 10px 0\">\n            <el-button type=\"primary\" @click=\"dialogFormVisible = true\">增加 <i class=\"el-icon-circle-plus-outline\"></i></el-button>\n            <el-button type=\"primary\">批量删除 <i class=\"el-icon-remove-outline\"></i></el-button>\n            <el-button type=\"primary\">导入 <i class=\"el-icon-bottom\"></i></el-button>\n            <el-button type=\"primary\">导出 <i class=\"el-icon-top\"></i></el-button>\n          </div>\n\n          <el-table v-loading=\"loadingOrClose\" :data=\"tableData\" border stripe :header-cell-class-name=\"headerBg\" >\n            <el-table-column prop=\"sid\" label=\"ID\" width=\"80\" >\n            </el-table-column>\n            <el-table-column prop=\"uid\" label=\"ID\" width=\"80\" v-if=\"false\">\n            </el-table-column>\n            <el-table-column prop=\"uname\" label=\"姓名\" width=\"140\" >\n            </el-table-column>\n            <el-table-column prop=\"unikename\" label=\"昵称\" width=\"120\">\n            </el-table-column>\n            <el-table-column prop=\"uemail\" label=\"邮箱\">\n            </el-table-column>\n            <el-table-column prop=\"uphone\" label=\"电话\">\n            </el-table-column>\n            <el-table-column prop=\"uaddress\" label=\"地址\">\n            </el-table-column>\n\n            <el-table-column label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"text\" @click=\"handleEdit(scope.row)\">编辑<i class=\"el-icon-edit\"></i></el-button>\n                <el-button type=\"danger\">删除<i class=\"el-icon-delete\"></i></el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <div style=\"padding: 10px 0\">\n            <el-pagination\n                @size-change=\"handleSizeChange\"\n                @current-change=\"handleCurrentChange\"\n                :current-page=\"pageNo\"\n                :page-sizes=\"[5, 10]\"\n                :page-size=\"pageSize\"\n                layout=\"total, sizes, prev, pager, next, jumper\"\n                :total=total>\n            </el-pagination>\n          </div>\n          <el-dialog title=\"用户信息\" :visible.sync=\"dialogFormVisible\" width=\"40%\" :before-close=\"cancel\">\n<!--            <el-form :model=\"form\">-->\n            <el-form :model=\"form\"  label-width=\"80px\" size=\"big\">\n              <el-form-item label=\"用户名\" >\n                <el-input v-model=\"form.uname\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"昵称\" >\n                <el-input v-model=\"form.unikename\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"邮箱\"  >\n                <el-input v-model=\"form.uemail\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"电话\" >\n                <el-input v-model=\"form.uphone\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"地址\" >\n                <el-input v-model=\"form.uaddress\" autocomplete=\"off\"></el-input>\n              </el-form-item>\n            </el-form>\n\n            <div slot=\"footer\" class=\"dialog-footer\" style=\"text-align: center\">\n              <el-button @click=\"cancel()\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"save\">确 定</el-button>\n            </div>\n          </el-dialog>\n\n        </el-main>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n<script>\n\n\nimport {request} from \"axios\";\n\nexport default {\n  name: 'HomeView',\n  data(){\n    return{\n      uName:\"\",\n      tableData: [],\n      total: 0,\n      pageNo:1,\n      pageSize:10,\n      dialogFormVisible: false,\n      form:{},\n      collapseBtnClass:\"el-icon-s-operation\",\n      isCollapse:false,\n      sideWidth:200,\n      logoTextShow:true,\n      headerBg:'headerBg',\n      loading: false\n    }\n  },\n  created() {\n    this.load()\n    this.loadingOrClose()\n  },\n  methods:{\n    collapse(){ //点击收缩按钮触发\n        this.isCollapse = !this.isCollapse\n      if(this.isCollapse){\n        this.logoTextShow=false\n      }else{\n        this.logoTextShow=true\n      }\n    },\n    load(){\n      this.request.get(\"http://localhost:9090/user/page\",{\n        params:{\n          pageNo:this.pageNo,\n          pageSize:this.pageSize,\n          uName:this.uName\n        }\n      }).then(res =>{\n            console.log(res);\n            this.tableData = res.Data;\n            this.total=res.Total;\n          })\n    },\n    save(){\n      this.request.post(\"http://localhost:9090/user\",this.form).then(res =>{\n        if(res){\n          this.$message.success(\"保存成功\")\n        }else {\n          this.$message.error(\"保存失败\")\n        }\n      })\n      this.form=[]\n      this.dialogFormVisible=false\n      this.load();\n\n    },\n    async loadingOrClose(){\n      this.loading = true\n      await listUserLink().then()\n      this.loading = false\n    },\n    handleEdit(row){\n      this.form=row\n      this.dialogFormVisible=true\n    },\n    cancel(){\n      this.form=[];\n      this.dialogFormVisible=false;\n    },\n    handleCurrentChange(pageNo){\n      console.log(pageNo)\n      this.pageNo=pageNo\n      this.load()\n    },\n    handleSizeChange(pageSize){\n      console.log(pageSize)\n      this.pageSize=pageSize\n      this.load()\n    }\n  }\n}\n</script>\n\n<style>\n.headerBg{\n  background: aqua !important;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}